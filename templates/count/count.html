{% extends "count/base.html" %}
{% block title %}Bike And Walk Web{% endblock %}

{% block head %}
<script type="text/javascript" src="{{ url_for('static', filename='count/js/count.js') }}"></script>
<script type="text/javascript">
	$(document).ready(function() {startUp();});
</script>
{% endblock head %}

{% block body %}
<div id="modalDiv"></div>
<div id="contain">
	<div id="menuContain">
		<p onclick="showMenu()" id="menuButton">...</p>
		<div id="menuList">
			<ul>
				<li onclick="showCountPage()">Show Count Page</li>
				<li onclick="showFormPage()">Show Form Page</li>
				<li onclick="submitReport()">Submit Report</li>
			</ul>
		</div>
	</div>
	<div id="countContain" >
		<p id="countName"><strong>{{ location.locationName }}</strong></p>
		{% if location.locationType.upper() == "SCREENLINE" %}
		<!-- rudimentary for now.. -->
			<div id="screenlineTraffic">
				<p id="eastWestStreetName">
					<img class="arrows" src="{{ url_for('static', filename='count/images/arrows/EastToWest.png') }}" alt="spacer" />&nbsp;
						{{ location.EW_Street }}&nbsp;
					<img class="arrows" src="{{ url_for('static', filename='count/images/arrows/WestToEast.png') }}" alt="spacer" />
				</p>
				<p class="eastWestWay" style="border: 1pt black solid;border-left:0pt;border-right:0pt;width:90%; margin:auto">                                                                                                                             
					<span id="D2" class="entry W_Entry">D2</span><img class="intersection" src="{{ url_for('static', filename='count/images/spacer.png') }}" alt="spacer" /><span id="B2" class="entry E_Entry">B2</span>
				</p>
			</div>
		{% else %} {# Intersection by default #}
			<p id="eastWestStreetName"><img class="arrows" src="{{ url_for('static', filename='count/images/arrows/EastToWest.png') }}" alt="arrow" />&nbsp;{{ location.EW_Street }}&nbsp;<img class="arrows" src="{{ url_for('static', filename='count/images/arrows/WestToEast.png') }}" alt="arrow" /></p>
			<p id="northSouthStreetName"><img class="arrows" src="{{ url_for('static', filename='count/images/arrows/EastToWest.png') }}" alt="arrow" />&nbsp;{{ location.NS_Street}}&nbsp;<img class="arrows" src="{{ url_for('static', filename='count/images/arrows/WestToEast.png') }}" alt="arrow" /></p>
			<div id="streetPattern">
			<!-- The traffic counting layout -->
				<p id="northWay" >
					<span id="A3" class="entry N_Entry">A3</span><img class="shoulder" src="{{ url_for('static', filename='count/images/spacer.png') }}" alt="spacer" />
					<span id="A2" class="entry N_Entry">A2</span><img class="shoulder" src="{{ url_for('static', filename='count/images/spacer.png') }}" alt="spacer" />
					<span id="A1" class="entry N_Entry">A1</span>
				</p>
				<p class="eastWestWay" >
					<span id="D1" class="entry W_Entry">D1</span><img class="intersection" src="{{ url_for('static', filename='count/images/spacer.png') }}" alt="spacer" /><span id="B3" class="entry E_Entry">B3</span>
				</p>                                                                                                                                                         
				<p class="eastWestWay" >                                                                                                                                     
					<span id="D2" class="entry W_Entry">D2</span><img class="intersection" src="{{ url_for('static', filename='count/images/spacer.png') }}" alt="spacer" /><span id="B2"  class="entry E_Entry">B2</span>
				</p>                                                                                                                                                         
				<p class="eastWestWay" >                                                                                                                                     
					<span id="D3" class="entry W_Entry">D3</span><img class="intersection" src="{{ url_for('static', filename='count/images/spacer.png') }}" alt="spacer" /><span id="B1"  class="entry E_Entry">B1</span>
				</p>
				<p id="southWay" >
					<span id="C1" class="entry S_Entry">C1</span><img class="shoulder" src="{{ url_for('static', filename='count/images/spacer.png') }}" alt="spacer" />
					<span id="C2" class="entry S_Entry">C2</span><img class="shoulder" src="{{ url_for('static', filename='count/images/spacer.png') }}" alt="spacer" />
					<span id="C3" class="entry S_Entry">C3</span>
				</p>
			</div>
		{% endif %}
		<div id="travelerList">
			{% for elem in range(g.travelerCnt) %}
				<p id="traveler_{{travelers[elem].row}}" class="traveler" data-travelerID="{{travelers[elem].ID}}"
					style="background-image:url({{travelers[elem].iconURL}});" >
					<span id="Cnt_traveler_{{travelers[elem].row}}" class="travelerCnt">0</span>
				</p>
				{% endfor %}
		</div>
		<p class="clear"></p>
		<p id="undoCounts" >Clear</p>
	</div>
	<div id="countTotals">
		<p class="smallPrint">
			Total Count: <span class="smallPrint" id="total">0</span>
		</p>
		<p class="smallPrint">
			Pending Upload: <span class="smallPrint" id="pending">0</span>
		</p>
	</div>
	<div id="infoContain">
		<!-- User and location information -->
		<form id="countInfo" method="post" action="#" onSubmit="return false">
			<input id="location" type="hidden" value="{{ location.ID }}" >
			<input id="countEvent" type="hidden" value="{{ event.ID }}" >
			<p>Assignment ID: <br />
				<input id="assignmentUID" name="assignmentUID" type="text" value="{{ g.UID }}" disabled="disabled" /></p>
			<p>Location Name: <br />
				<input name="locationName" type="text" value="{{ location.locationName }}" disabled="disabled" /></p>
			<p>Street running North to South: <br />
				<input name="NS_streetName" type="text" value="{{ location.NS_Street }}" disabled="disabled" /></p>
			<p>Street running East to West: <br />
				<input name="EW_streetName" type="text" value="{{ location.EW_Street }}" disabled="disabled" /></p>
			<p>Your name: <br />
				<input name="counterName" type="text" value="{{user.name}}" disabled="disabled" /></p>
		</form>
	</div>
	<div id="dataContain">
		<p>Data: </p>
		<pre id="data"></pre>
	</div>
	<p id="footer">Bike and Walk</p>
</div>
{% endblock %}
